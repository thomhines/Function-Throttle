<!doctype html>
<html lang="en-us">

<head>
	<title>Function Throttle | Documentation</title>
	<meta charset="utf-8" />
	<meta name="description" content="Control how often a function gets called from within the function itself." />
	<meta name="viewport" content="width=device-width, initial-scale=1"> <!-- !!! add ", user-scalable=no" if mobile app -->
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="canonical" href="!!!http://example.com/2017/09/a-new-article-to-red.html"> <!-- Helps prevent duplicate content issues -->

	<meta name="theme-color" content="#333">

	<meta property="og:type" content="website" />
	<meta property="og:url" content="http://projects.thomhines.com/Function-Throttle" />
	<meta property="og:title" content="Function Throttle | Documentation" />
	<meta property="og:description" content="Control how often a function gets called from within the function itself." />
	<!-- <meta property="og:image" content="!!!https://sitename.com/img/something.png" /> -->
	<meta property="og:site_name" content="Function Throttle | Documentation">
	<meta property="og:locale" content="en_US">
	<meta name="twitter:card" content="summary">
	<!-- <meta name="twitter:site" content="!!!@site_account"> -->
	<!-- <meta name="twitter:creator" content="!!!@individual_account"> -->
	<meta name="twitter:url" content="http://projects.thomhines.com/Function-Throttle">
	<meta name="twitter:title" content="Function Throttle | Documentation">
	<meta name="twitter:description" content="Control how often a function gets called from within the function itself.">
	<!-- <meta name="twitter:image" content="!!!https://example.com/image.jpg"> -->
	<!-- <link rel="image_src" href="!!!https://sitename.com/img/something.png"> -->

	<style>
		body {
			width: 500px;
			margin: 100px auto 40px;
			background: #a0ffd1;
			color: #333;
			font-family: Lato, Helvetica, Arial, sans-serif;
			overflow: auto;
		}

		p + h2 {
			margin-top: 3em;
		}

		h3 {
			margin: 2em 0 1em;
		}

		h4 {
			margin: 2em 0 1em;
			clear: both;
			line-height: 1.4em;
		}

		h3 + h4,
		.example1 h4 {
			margin-top: 1em;
		}

		h3 + p,
		h4 + p {
			margin-top: -1em;
		}

		code {
			margin: 0 0 20px;
			padding: 10px;
			display: block;
			background: rgba(255, 255, 255, .2);
			white-space: nowrap;
			overflow-x: auto;
		}

		a {
			color: #622;
		}

		footer {
			margin: 100px 0 20px;
		}

		.example2,
		.example3 {
			margin-top: 4em;
		}

		.event_count,
		.function_count {
			font-weight: bold;
		}

		[class*='feedback'] {
			margin: 0 0 0 240px;
			font-size: 1em;
		}

		[class*='example'] {
			overflow: auto;
		}

		.demo {
			clear: both;
			float: left;
			width: 200px;
			height: 200px;
			padding: 10px;
			background: #fff;
			font-size: 12px;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.demo:before {
			content: "Move mouse in here...";
			display: block;
			margin: 0;
			padding: 0;
			line-height: 0;
		}

		.function_notice {
			background: #f22;
			color: #fff;
			padding: 1em;
			text-align: center;
		}

	</style>
</head>
<body>

	<a href="https://github.com/thomhines/Function-Throttle"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

	<h1>Function Throttle | Documentation</h1>
	<h2>Control how often a function gets invoked from within the function itself.</h2>
	<p>Similar to the debounce/throttle functions found in <a href="https://lodash.com/docs/4.17.4#debounce">Lodash</a>, but meant to be be run within the function itself instead of attached to an event. This keeps your code clean (no need to attach debounce to EVERY event trigger) and ensures that your functions are consistently throttled no matter how many triggers there might be.</p>

	<h2>Usage</h2>
	<p>To use these functions, simply place them at the top of your function like so and they will limit how often the rest of your function is run based on the settings:</p>

	<code>
		function exampleFunction() {<br>
			&nbsp;&nbsp;<b>if(debounce()) return;</b><br>
			<br>
			&nbsp;&nbsp;// Continue running function...<br>
		}
	</code>
	<p>or</p>
	<code><b>if(throttle()) return;</b></code>



	<p>This library comes with two functions to control your functions:</p>

	<h4>debounce([wait=100], [options={}])</h4>
	<p>Prevent function from running until <i>wait</i> number of milliseconds has passed without it being triggered.</p>

	<h4>throttle([wait=100], [options={}])</h4>
	<p>Prevent function more than once every <i>wait</i> milliseconds.</p>


	<h2>Settings</h2>
	<p>The debounce() and throttle() functions will make smart assumptions about how to run if no arguments are given, but can be configured to run </p>

	<h3>wait (optional)<br><i>int</i></h3>
	<p>The number of milliseconds to delay. <i>Default: 100</i></p>

	<h3>options (optional)<br><i>object</i></h3>
	<p>Control when the function will run in relation to the timeout.</p>
	<code>
	{<br>
		&nbsp;&nbsp;leading: false,<br>
		&nbsp;&nbsp;trailing: true,<br>
		&nbsp;&nbsp;maxWait: true,<br>
		&nbsp;&nbsp;function: '',<br>
		&nbsp;&nbsp;arguments: [],<br>
	}
	</code>

	<h5>Default values:</h5>
	<h4>leading<br><i>boolean</i></h4>
	<p>Set to true if you want function to run on leading edge of timeout <i>Default: false</i></p>
	<h4>trailing<br><i>boolean</i></h4>
	<p>Set to true if you want function to run on trailing edge of timeout <i>Default: false</i></p>
	<h4>maxWait<br><i>int</i></h4>
	<p>The maximum time (in ms) function is allowed to be delayed before it's invoked <i>Default: 0</i></p>
	<h4>function<br><i>string</i></h4>
	<p>The name of the function to run. If blank, it will use the name of the function that called it.<br>
	<i>Note: The function name is derived from the <b>arguments.callee</b> object, which isn't supported on older browsers. If you need to support legacy browsers, use this setting.</i></p>
	<h4>arguments<br><i>array</i></h4>
	<p>A list of arguments to be passed to function call. If blank, it will use the arguments of the function that called it.<br>
	<i>Note: Also uses <b>arguments.callee</b>. See previous note about supporting older browsers.</i></p>


	<h2>Examples</h2>

	<div class="example example1">
		<h4>Debounce</h4>
		<p>The function will only run after the mouse has stopped moving for at least 500ms:</p>
		<code>
			function example1() {<br>
				&nbsp;&nbsp;if(<b>debounce(500)</b>) return;<br>
				<br>
				&nbsp;&nbsp;// Continue running function...<br>
			}<br>
			<br>
			$('.demo1').mousemove(example1);
		</code>
		<div class="demo"></div>
		<div class="feedback">
			<p>Mouse event triggered <span class="event_count">0</span> times</p>
			<p>Function run <span class="function_count">0</span> times</p>
			<p class="function_notice">Function Run!</p>
		</div>
	</div>

	<div class="example example2">
		<h4>Throttle</h4>
		<p>The function will run every 1000ms as long as the box registers a mouse movement:</p>
		<code>
			function example2() {<br>
				&nbsp;&nbsp;if(<b>throttle(1000)</b>) return;<br>
				<br>
				&nbsp;&nbsp;// Continue running function...<br>
			}<br>
			<br>
			$('.demo2').mousemove(example2);
		</code>
		<div class="demo"></div>
		<div class="feedback">
			<p>Mouse event triggered <span class="event_count">0</span> times</p>
			<p>Function run <span class="function_count">0</span> times</p>
			<p class="function_notice">Function Run!</p>
		</div>
	</div>

	<div class="example example3">
		<h4>Options</h4>
		<p>Arguments will be passed along with the function call each time it's triggered.</p>
		<p>The function will run once but not again until after 100ms of no mouse movement:</p>
		<code>
			function example3(_string, _number, _null) {<br>
				&nbsp;&nbsp;if(<b>debounce({<br>
				&nbsp;&nbsp;&nbsp;&nbsp;function: 'example3',<br>
				&nbsp;&nbsp;&nbsp;&nbsp;arguments: [_string, _number, _null],<br>
				&nbsp;&nbsp;&nbsp;&nbsp;leading: true,<br>
				&nbsp;&nbsp;&nbsp;&nbsp;trailing: false,<br>
				&nbsp;&nbsp;&nbsp;&nbsp;maxWait: false<br>
				&nbsp;&nbsp;})</b>) return;<br>
				<br>
				&nbsp;&nbsp;// Continue running function...<br>
			}<br>
			<br>
			$('.demo3').mousemove(function() {<br>
				&nbsp;&nbsp;example3('test', 34, null);<br>
			});
		</code>
		<div class="demo"></div>
		<div class="feedback">
			<p>Mouse event triggered <span class="event_count">0</span> times</p>
			<p>Arguments: <span class="arguments"></span></p>
			<p>Function run <span class="function_count">0</span> times</p>
			<p class="function_notice">Function Run!</p>
		</div>
	</div>

	<footer>
		<p>Copyright 2018 Thom Hines. Licensed under MIT License.</p>

	</footer>

</body>




<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="throttle.js"></script>
<script>





function1_triggered = 1;
function example1() {
	if(debounce(500)) return;
	// Continue running function...
	$('.example1 .function_count').html(function1_triggered++);
	$('.example1 .function_notice').finish().fadeIn(50).delay(200).fadeOut(400);
}

function2_triggered = 1;
function example2() {
	if(throttle(1000)) return;
	// Continue running function...
	$('.example2 .function_count').html(function2_triggered++);
	$('.example2 .function_notice').finish().fadeIn(50).delay(200).fadeOut(400);
}

function3_triggered = 1;
function example3(_string, _number, _null) {
	if(debounce({
		function: 'example3',
		arguments: [_string, _number, _null],
		leading: true,
		trailing: false,
		maxWait: false
	})) return;
	// Continue running function...
	$('.example3 .function_count').html(function3_triggered++);
	$('.example3 .arguments').html(_string +", "+ _number +", "+ _null);
	$('.example3 .function_notice').finish().fadeIn(50).delay(200).fadeOut(400);
}


$(function() {

	$('.function_notice').hide();

	event1_triggered = 1;
	$('.demo').mousemove(function() {
		example_number = $(this).parent().attr('class');
		$('.'+example_number+' .event_count').html(event1_triggered++);
		var fn = window[example_number];
		if(example_number == 'example3') fn('test', 34, null);
		else fn();
	});

});

</script>
